<h2>Reactives Validations</h2>
<hr />

<div class="row">
  <div class="col">
    <form autocomplete="off" [formGroup]="myForm" (ngSubmit)="isValidForm()">
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Name</label>
        <div class="col-sm-9">
          <input
            type="text"
            formControlName="name"
            class="form-control"
            placeholder="User name"
          />
          <span class="form-text text-danger" *ngIf="isValid('name')"
            >Validation error</span
          >
        </div>
      </div>
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Email</label>
        <div class="col-sm-9">
          <input type="email" formControlName="email" class="form-control" placeholder="Email name" />
          <span class="form-text text-danger" *ngIf="isRequired('email')">Email es requerido</span>
          <span class="form-text text-danger" *ngIf="isValid('email')">Email invalido</span>
          <span class="form-text text-danger" *ngIf="isUsed('email')">Email esta en uso</span>
        </div>
      </div>
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Username</label>
        <div class="col-sm-9">
          <input type="text" formControlName="username" class="form-control" placeholder="UserCode" />
          <span class="form-text text-danger" *ngIf="isValid('username')">Validation error</span>
        </div>
      </div>
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Password</label>
        <div class="col-sm-9">
          <input type="password" formControlName="password" class="form-control" placeholder="Password" />
          <span class="form-text text-danger" *ngIf="isValid('password')">Validation error</span>
        </div>
      </div>
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Confirm</label>
        <div class="col-sm-9">
          <input type="password" formControlName="confirmpw" class="form-control" placeholder="Password" />
          <span class="form-text text-danger" *ngIf="isValid('confirmpw')">Validation error</span>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button type="submit" class="bt btn-primary float-end" [disabled]="myForm.pending || myForm.invalid">Create</button>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="row">
  <div class="col">    
    <span>Valid</span>
    <pre>{{ myForm.valid }} </pre>
    <span>Status</span>
    <pre>{{ myForm.status }} </pre>    
    <span>Pristine</span>
    <pre>{{ myForm.pristine }} </pre>
    <span>Touched</span>
    <pre>{{ myForm.touched }} </pre>
    <span>Form</span>
    <pre>{{ myForm.value | json }} </pre>
    <span>Errors</span>
    <pre>{{ myForm.errors | json }} </pre>    

    <span>Form Name</span>
    <pre>{{ myForm.controls.name.errors | json }} </pre>
    <span>Form Email</span>
    <pre>{{ myForm.controls.email.errors | json }} </pre>
    <span>Form UserName</span>
    <pre>{{ myForm.controls.username.errors | json }} </pre>
    <span>Form Password</span>
    <pre>{{ myForm.controls.password.errors | json }} </pre>
    <span>Form Confirm Password</span>
    <pre>{{ myForm.controls.confirmpw.errors | json }} </pre>    
  </div>
</div>
